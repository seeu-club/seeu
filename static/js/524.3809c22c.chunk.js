"use strict";(self.webpackChunkseeu_market=self.webpackChunkseeu_market||[]).push([[524],{78419:(e,t,s)=>{s.r(t),s.d(t,{ImageDrop:()=>i});class i{constructor(e){this.quill=e,this.handleDrop=this.handleDrop.bind(this),this.handlePaste=this.handlePaste.bind(this),this.quill.root.addEventListener("drop",this.handleDrop,!1),this.quill.root.addEventListener("paste",this.handlePaste,!1)}handleDrop(e){if(e.preventDefault(),e.dataTransfer&&e.dataTransfer.files&&e.dataTransfer.files.length){if(document.caretRangeFromPoint){const t=document.getSelection(),s=document.caretRangeFromPoint(e.clientX,e.clientY);t&&s&&t.setBaseAndExtent(s.startContainer,s.startOffset,s.startContainer,s.startOffset)}this.readFiles(e.dataTransfer.files,this.insert.bind(this))}}handlePaste(e){e.clipboardData&&e.clipboardData.items&&e.clipboardData.items.length&&this.readFiles(e.clipboardData.items,(e=>{this.quill.getSelection()||setTimeout((()=>this.insert(e)),0)}))}insert(e){const t=(this.quill.getSelection()||{}).index||this.quill.getLength();this.quill.insertEmbed(t,"image",e,"user")}readFiles(e,t){[].forEach.call(e,(e=>{if(!e.type.match(/^image\/(gif|jpe?g|a?png|svg|webp|bmp|vnd\.microsoft\.icon)/i))return;const s=new FileReader;s.onload=e=>{t(e.target.result)};const i=e.getAsFile?e.getAsFile():e;i instanceof Blob&&s.readAsDataURL(i)}))}}}}]);
//# sourceMappingURL=524.3809c22c.chunk.js.map